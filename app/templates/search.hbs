{{#if errorMessage}}
  <div class="alert alert-danger">{{errorMessage}}</div>
{{/if}}

<form class="form-inline" {{action "search" on="submit"}}>
  <div class="form-group">
    {{focus-input value=query class="form-control" required=true}}
  </div>
  <button type="submit" class="btn btn-default" disabled={{isSearching}}>
    Search <span class="glyphicon glyphicon-refresh {{if isSearching '' 'hidden'}}"></span>
  </button>
</form>

<ul class="nav nav-pills gap">
  {{#each type in sourceTypes}}
    {{view "search/source-type" sourceType=type}}
  {{/each}}
</ul>

<div class="row gap">
  <div class="col-md-2">
    <div class="panel panel-default">
      <div class="panel-heading">Artists</div>

      <table class="table table-condensed">
        <tbody>
          {{#each artist in artists}}
            <tr><td>{{#link-to "albums" artist.uri}}{{artist.name}}{{/link-to}}</td></tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading">Albums</div>

      <table class="table table-condensed">
        <tbody>
          {{#each album in albums}}
            <tr><td>{{#link-to "albums" album.uri}}{{album.artists.0.name}} - {{album.name}}{{/link-to}}</td></tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">Tracks</div>

      <table class="table table-condensed">
        <tbody>
          {{#each track in tracks}}
            <tr><td>{{#link-to "albums" track.uri}}{{track.artists.0.name}} - {{track.album.name}} - {{track.name}}{{/link-to}}</td></tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</div>
